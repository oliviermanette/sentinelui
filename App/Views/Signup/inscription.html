{% extends 'baseLogin.html' %}

{% block title %}Sign up{% endblock %}

{% block footer %}
<script src="public/js/app.js" ></<script>
<script>

  $(document).ready(function() {

    /**
    * Validate the form
    */
    $('#formSignup').validate({
      rules: {
        name: 'required',
        email: {
          required: true,
          email: true,
          remote: '/ControllerAccount/validate-email'
        },
        password: {
          required: true,
          minlength: 6,
          validPassword: true
        },
        password_confirmation: {
          equalTo: '#inputPassword'
        }
      },
      messages: {
        email: {
          remote: 'email already taken'
        }
      }
    });
  });
</script>

{% endblock %}

{% block body %}

<div class="sidenav">
  <div class="login-main-text">
    <h2>Flod.ai<br> Registration Page</h2>
    <p>Login or register from here to access.</p>
  </div>
</div>
<div class="main">
  <div class="col-md-6 col-sm-12">
    <div class="login-form">
      <form role="form" action="/ControllerRegistration/create" method="post" name="signupform" id="formSignup">
        <fieldset>
          <legend>Sign Up</legend>

          <div class="form-group">
            <label for="name">First Name</label>
            <input type="text" name="firstname" placeholder="Enter first name" required value="" class="form-control" />
            <span class="text-danger">{{error_message.ufirstname_error}}</span>
          </div>
          <div class="form-group">
            <label for="name">Name</label>
            <input type="text" name="name" placeholder="Enter last Name" required value="" class="form-control" />
            <span class="text-danger">{{error_message.uname_error}}</span>
          </div>
          <div class="form-group">
            <label for="name">Username</label>
            <input type="text" name="username" placeholder="Enter username" required value="" class="form-control" />
            <span class="text-danger">{{error_message.username_error}}</span>
          </div>
          <div class="form-group">
            <label for="name">Email</label>
            <input type="email" name="email" placeholder="Email" required value="" class="form-control" />
            <span class="text-danger">{{error_message.email_error}}</span>
          </div>

          <div class="form-group">
            <label for="name">Password</label>
            <input type="password" name="password" id="inputPassword" placeholder="Password"
            required pattern="^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,}$" title="Minimum 6 chars, at least one letter and number"
            class="form-control" />
            <span class="text-danger">{{error_message.password_error}}</span>
          </div>

          <div class="form-group">
            <label for="name">Confirm Password</label>
            <input type="password" name="cpassword" placeholder="Confirm Password" required class="form-control" />
            <span class="text-danger">{{error_message.cpassword_error}}></span>
          </div>

          <div class="form-group">
            <button type="submit" name="signup" value="Sign Up" class="btn btn-black">Register</button>
          </div>
        </fieldset>
      </form>
      <span class="text-success">{{success_message}}</span>
      <span class="text-danger">{{error_message}}</span>
    </div>
  </div>
</div>
<div class="col-md-4 col-md-offset-4 text-center"><a href="login.php">Already registered ?</a>

{% endblock %}
